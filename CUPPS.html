<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CUPPS Benefit Calculator</title>
    <style>
        :root { --bg:#0f172a; --panel:#111827; --muted:#94a3b8; --text:#e5e7eb; --accent:#06b6d4; --ok:#22c55e; --warn:#f59e0b; }
        html, body { height:100%; }
        body { margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji"; background:linear-gradient(120deg, #0b1024, #0a142e 35%, #0b2433); color:var(--text); }
        .wrap { max-width:1000px; margin:32px auto; padding:0 16px; }
        header { display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom:24px; }
        h1 { font-size:24px; margin:0; letter-spacing:0.2px; }
        .product { color:var(--accent); font-weight:600; }
        .grid { display:grid; grid-template-columns:repeat(12, 1fr); gap:16px; }
        .card { background:rgba(17,24,39,0.85); border:1px solid rgba(255,255,255,0.06); border-radius:12px; box-shadow:0 10px 30px rgba(0,0,0,0.35); }
        .card header { padding:14px 16px; border-bottom:1px solid rgba(255,255,255,0.06); }
        .card header h2 { font-size:15px; margin:0; color:#cbd5e1; letter-spacing:0.2px; }
        .card .body { padding:16px; }
        .span-4 { grid-column:span 4; }
        .span-8 { grid-column:span 8; }
        @media (max-width: 900px) { .span-4, .span-8 { grid-column:span 12; } }

        label { display:block; font-size:12px; color:var(--muted); margin-bottom:8px; }
        .row { display:flex; gap:12px; flex-wrap:wrap; }
        .field { flex:1 1 180px; }
        input[type="number"] { width:100%; box-sizing:border-box; background:#0b1220; color:var(--text); border:1px solid rgba(255,255,255,0.08); border-radius:10px; padding:10px 12px; outline:none; transition:border-color .15s ease, box-shadow .15s ease; }
        input[type="number"]:focus { border-color:var(--accent); box-shadow:0 0 0 3px rgba(6,182,212,0.2); }
        .hint { font-size:11px; color:var(--muted); margin-top:6px; }

        .const-grid { display:grid; grid-template-columns:repeat(2, 1fr); gap:12px; }
        @media (max-width: 640px) { .const-grid { grid-template-columns:1fr; } }

        .kpi { display:grid; grid-template-columns:1fr auto; gap:8px 12px; align-items:center; padding:8px 0; border-bottom:1px dashed rgba(255,255,255,0.08); }
        .kpi:last-child { border-bottom:none; }
        .kpi .name { color:#cbd5e1; }
        .kpi .val { font-variant-numeric:tabular-nums; font-feature-settings:"tnum"; font-weight:700; }
        .kpi .val.ok { color:var(--ok); }
        .kpi .val.warn { color:var(--warn); }

        .footer { display:flex; justify-content:space-between; align-items:center; gap:12px; margin-top:16px; color:var(--muted); font-size:12px; }
        .btns { display:flex; gap:8px; }
        button { background:linear-gradient(180deg, #0ea5b7, #0891b2); color:white; border:none; border-radius:10px; padding:10px 12px; font-weight:600; cursor:pointer; }
        button.secondary { background:#1f2937; border:1px solid rgba(255,255,255,0.08); }
        a { color:var(--accent); text-decoration:none; }

        .note { font-size:12px; color:#a3b2c7; }
        .kpis { display:flex; flex-wrap:wrap; gap:8px; margin:8px 0 12px 0; }
        .pill { display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border-radius:9999px; background:rgba(6,182,212,0.12); border:1px solid rgba(6,182,212,0.25); color:#e6fbff; font-size:12px; }

        /* Drawer */
        .overlay { position:fixed; inset:0; background:rgba(2,6,23,0.6); backdrop-filter:blur(2px); opacity:0; pointer-events:none; transition:opacity .2s ease; z-index:40; }
        .overlay.show { opacity:1; pointer-events:auto; }
        .drawer { position:fixed; top:0; right:0; height:100%; width:420px; max-width:92vw; background:rgba(17,24,39,0.98); border-left:1px solid rgba(255,255,255,0.08); box-shadow:-20px 0 40px rgba(0,0,0,0.35); transform:translateX(100%); transition:transform .25s ease; z-index:50; display:flex; flex-direction:column; }
        .drawer.open { transform:translateX(0); }
        .drawer header { padding:14px 16px; border-bottom:1px solid rgba(255,255,255,0.06); display:flex; align-items:center; justify-content:space-between; }
        .drawer .content { padding:16px; overflow:auto; }

        /* KPI tiles (FIDS-like) */
        .kpi-grid { display:grid; grid-template-columns:repeat(4, 1fr); gap:16px; }
        @media (max-width: 1024px) { .kpi-grid { grid-template-columns:repeat(2, 1fr); } }
        @media (max-width: 560px) { .kpi-grid { grid-template-columns:1fr; } }
        .tile { position:relative; border-radius:14px; padding:16px; background:linear-gradient(180deg, #0e172a, #0b1220); border:1px solid rgba(255,255,255,0.06); box-shadow:0 10px 30px rgba(0,0,0,0.25); }
        .tile .icon { width:36px; height:36px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:rgba(6,182,212,0.12); margin-bottom:10px; font-size:18px; }
        .tile .title { color:#9fb0c8; font-size:12px; margin-bottom:6px; }
        .tile .value { font-size:22px; font-weight:800; letter-spacing:0.2px; }
        .tile .value.ok { color:var(--ok); }
        .tile .value.warn { color:var(--warn); }
    </style>
</head>
<body>
    <div class="wrap">
        <header>
            <h1><span class="product">CUPPS</span> Benefit Calculator</h1>
            <nav class="btns">
                <button id="openConstantsBtn" class="secondary">Constants</button>
                <button class="secondary" onclick="window.location.href='index.html'">Home</button>
                <button class="secondary" onclick="window.location.href='BRS.html'">BRS</button>
                <button class="secondary" onclick="window.location.href='TDAS.html'">TDAS</button>
            </nav>
        </header>
        <div class="kpis" aria-label="Top KPIs">
            <span class="pill">‚úàÔ∏è 99.99% System Uptime</span>
            <span class="pill">‚ö° Rapid Deployment with Minimal Disruption</span>
            <span class="pill">ü§ù 100% Multi-Airline Compatibility</span>
        </div>

        <div class="grid">
            <section class="card" aria-label="Inputs" style="grid-column:span 12;">
                <header><h2>Inputs</h2></header>
                <div class="body">
                    <div class="row">
                        <div class="field">
                            <label for="workstations">Workstation Count</label>
                            <input id="workstations" type="number" min="0" step="1" value="50" />
                            <div class="hint">Toplam payla≈üƒ±mlƒ± CUPPS istasyon sayƒ±sƒ±</div>
                        </div>
                        <div class="field">
                            <label for="airlines">Number of Airlines</label>
                            <input id="airlines" type="number" min="0" step="1" value="10" />
                            <div class="hint">CUPPS √ºzerinde hizmet verilen havayolu sayƒ±sƒ±</div>
                        </div>
                    </div>
                </div>
            </section>

            

            <section class="card span-12" aria-label="Outputs" style="grid-column:span 12;">
                <header><h2>Outputs</h2></header>
                <div class="body">
                    <div class="kpi-grid">
                        <div class="tile">
                            <div class="icon">üí∞</div>
                            <div class="title">CAPEX Savings</div>
                            <div class="value" id="capexSavings">$0</div>
                        </div>
                        <div class="tile">
                            <div class="icon">üîß</div>
                            <div class="title">OPEX Savings (monthly)</div>
                            <div class="value ok" id="opexSavings">$0</div>
                        </div>
                        <div class="tile">
                            <div class="icon">‚ö°</div>
                            <div class="title">Deployment Time Saved</div>
                            <div class="value warn" id="deploySaved">0 days</div>
                        </div>
                        <div class="tile">
                            <div class="icon">üå±</div>
                            <div class="title">Carbon Footprint Reduction</div>
                            <div class="value" id="carbonSaved">0 kgCO‚ÇÇe/mo</div>
                        </div>
                    </div>
                </div>
                <div class="footer">
                    <div class="note">Deƒüerler √∂rnek varsayƒ±lanlarla hesaplanƒ±r, d√ºzenleyerek doƒürulayabiliriz.</div>
                    <div class="btns">
                        <button id="resetBtn" class="secondary">Reset</button>
                        <button id="shareBtn">Share Scenario</button>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Drawer and Overlay -->
    <div id="drawerOverlay" class="overlay" aria-hidden="true"></div>
    <aside id="constantsDrawer" class="drawer" aria-label="Adjustable Constants" aria-hidden="true" role="dialog">
        <header>
            <h2 style="margin:0;">Adjustable Constants</h2>
            <button id="closeConstantsBtn" class="secondary">Close</button>
        </header>
        <div class="content">
            <div class="const-grid">
                <div>
                    <label for="capexWs">CAPEX per Workstation ($)</label>
                    <input id="capexWs" type="number" min="0" step="100" value="1500" />
                    <div class="hint">Payla≈üƒ±mlƒ± altyapƒ± sayesinde istasyon ba≈üƒ±na sermaye tasarrufu</div>
                </div>
                <div>
                    <label for="capexAl">CAPEX per Airline ($)</label>
                    <input id="capexAl" type="number" min="0" step="100" value="10000" />
                    <div class="hint">Havayolu ba≈üƒ±na ek CAPEX tasarrufu</div>
                </div>
                <div>
                    <label for="opexFactor">OPEX hours saved per Workstation</label>
                    <input id="opexFactor" type="number" min="0" step="0.5" value="3" />
                    <div class="hint">Aylƒ±k bakƒ±m saatinde azalma (istasyon √ó fakt√∂r)</div>
                </div>
                <div>
                    <label for="hourlyRate">Tech Hourly Rate ($/h)</label>
                    <input id="hourlyRate" type="number" min="0" step="1" value="60" />
                    <div class="hint">OPEX'i parasalla≈ütƒ±rmak i√ßin saatlik maliyet</div>
                </div>
                <div>
                    <label for="tradDays">Traditional Deployment (days)</label>
                    <input id="tradDays" type="number" min="0" step="1" value="3" />
                    <div class="hint">Klasik entegrasyon s√ºresi (g√ºn)</div>
                </div>
                <div>
                    <label for="tavDays">TAV Deployment (days)</label>
                    <input id="tavDays" type="number" min="0" step="1" value="1" />
                    <div class="hint">TAV CUPPS ile ortalama s√ºre (g√ºn)</div>
                </div>
                <div>
                    <label for="carbonPerDedicated">Carbon per Dedicated WS (kgCO‚ÇÇe/mo)</label>
                    <input id="carbonPerDedicated" type="number" min="0" step="1" value="12" />
                    <div class="hint">Dedicated istasyona kƒ±yasla aylƒ±k karbon ayak izi</div>
                </div>
            </div>
        </div>
    </aside>

    <script>
        const el = (id) => document.getElementById(id);

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD', maximumFractionDigits: 0 }).format(amount || 0);
        }

        function readInputs() {
            const workstations = Math.max(0, Math.floor(Number(el('workstations').value || 0)));
            const airlines = Math.max(0, Math.floor(Number(el('airlines').value || 0)));
            const capexPerWS = Math.max(0, Number(el('capexWs').value || 0));
            const capexPerAirline = Math.max(0, Number(el('capexAl').value || 0));
            const opexHoursPerWS = Math.max(0, Number(el('opexFactor').value || 0));
            const hourlyRate = Math.max(0, Number(el('hourlyRate').value || 0));
            const tradDays = Math.max(0, Math.floor(Number(el('tradDays').value || 0)));
            const tavDays = Math.max(0, Math.floor(Number(el('tavDays').value || 0)));
            const carbonPerDedicated = Math.max(0, Number(el('carbonPerDedicated').value || 0));
            return { workstations, airlines, capexPerWS, capexPerAirline, opexHoursPerWS, hourlyRate, tradDays, tavDays, carbonPerDedicated };
        }

        function computeOutputs() {
            const v = readInputs();

            // CAPEX Savings = workstation * X + airline * Y
            const capexSavings = v.workstations * v.capexPerWS + v.airlines * v.capexPerAirline;

            // OPEX Savings (monthly $) = workstation √ó factor √ó hourlyRate
            const opexSavingsMonthly = v.workstations * v.opexHoursPerWS * v.hourlyRate;

            // Deployment Time Saved (days): (T_trad_days - T_tav_days) * workstations
            const deploymentTimeSaved = Math.max(0, v.tradDays - v.tavDays) * v.workstations;

            // Carbon Reduction (rough): (Shared WKS vs airline count) √ó dedicated workstation footprint
            // A simple illustrative model: (workstations - airlines) cannot be negative
            const sharedAdvantage = Math.max(0, v.workstations - v.airlines);
            const carbonSaved = sharedAdvantage * v.carbonPerDedicated;

            el('capexSavings').textContent = formatCurrency(capexSavings);
            el('opexSavings').textContent = formatCurrency(opexSavingsMonthly) + ' /mo';
            el('deploySaved').textContent = deploymentTimeSaved.toLocaleString('en-US') + ' days';
            el('carbonSaved').textContent = carbonSaved.toLocaleString('en-US') + ' kgCO‚ÇÇe/mo';
        }

        function attachEvents() {
            const inputs = document.querySelectorAll('input');
            inputs.forEach(i => i.addEventListener('input', computeOutputs));

            // Drawer controls
            const drawer = el('constantsDrawer');
            const overlay = el('drawerOverlay');
            const openBtn = el('openConstantsBtn');
            const closeBtn = el('closeConstantsBtn');
            function openDrawer() {
                drawer.classList.add('open');
                overlay.classList.add('show');
                drawer.setAttribute('aria-hidden', 'false');
                overlay.setAttribute('aria-hidden', 'false');
            }
            function closeDrawer() {
                drawer.classList.remove('open');
                overlay.classList.remove('show');
                drawer.setAttribute('aria-hidden', 'true');
                overlay.setAttribute('aria-hidden', 'true');
            }
            openBtn.addEventListener('click', openDrawer);
            closeBtn.addEventListener('click', closeDrawer);
            overlay.addEventListener('click', closeDrawer);
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeDrawer(); });

            el('resetBtn').addEventListener('click', () => {
                const defaults = {
                    workstations: 50,
                    airlines: 10,
                    capexWs: 1500,
                    capexAl: 10000,
                    opexFactor: 3,
                    hourlyRate: 60,
                    tradDays: 3,
                    tavDays: 1,
                    carbonPerDedicated: 12
                };
                for (const [id, val] of Object.entries(defaults)) {
                    el(id).value = String(val);
                }
                computeOutputs();
            });

            el('shareBtn').addEventListener('click', () => {
                const v = readInputs();
                const params = new URLSearchParams(v).toString();
                const url = location.origin + location.pathname + '?' + params;
                navigator.clipboard.writeText(url).then(() => {
                    alert('Scenario URL copied to clipboard.');
                }).catch(() => {
                    prompt('Copy this URL:', url);
                });
            });

            // Load from query params if available
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.toString()) {
                const ids = ['workstations','airlines','capexWs','capexAl','opexFactor','hourlyRate','tradDays','tavDays','carbonPerDedicated'];
                ids.forEach(id => {
                    if (urlParams.has(id)) {
                        el(id).value = urlParams.get(id);
                    }
                });
            }
        }

        attachEvents();
        computeOutputs();
    </script>
</body>
</html>


